<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Wi-fi controlled car with camera</title>
	<script src="jquery.js"></script>
    <script type="text/javascript">
	
    var polling = false;
	
$( document ).ready(function() {
    console.log( "ready!" );
	
$("body" ).keydown(function( e ) {
var code = e.which;
console.log("keydown1 " + code);
  if ( code == 13 ) {
   e.preventDefault();
  }
 if (code == 87) {
 	console.log("aaaaaaaaaaaa ");
    polling = true;
    poll();
  }
  return true;
});

$("body" ).keyup(function( e ) {
var code = e.which;
console.log("keyup " + code);
  if (code == 13 ) {
   e.preventDefault();
  }
  if (code == 87) {
    polling = false;
  }
  return true;
});
	
});
	
	var running = false;
	
	var poll = function() {
	//console.log("polling");
	if (running) {
		return;
	}
	running = true;
    $.ajax({
        url: "http://google.com",
        type: "GET",
        success: function(data) {
            //console.log("!!!");
        },
        dataType: "html",
        complete: function() {
		running = false;
		    if (polling) {
					setTimeout(function() {poll()}, 1000);
			}
		},
        timeout: 1000
    })
};

   </script>
</head>
<body>
<table >

    <tr>
        <td>
		<button type="button" >Forward</button><br>
        <button type="button" >Left</button>
        <button type="button" >Right</button><br>
        <button type="button" >Backward</button>
              
        </td>
    </tr>
</table>

</body>
</html>